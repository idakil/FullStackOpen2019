{"version":3,"sources":["components/Person.js","components/Persons.js","components/Filter.js","components/PersonForm.js","services/services.js","components/Notification.js","App.js","index.js"],"names":["Person","person","onClick","name","number","Persons","persons","map","p","key","Filter","type","placeholder","PersonForm","id","baseUrl","getAll","a","request","axios","get","response","data","create","newObject","post","update","put","remove","delete","Notification","message","useState","display","setDisplay","isError","error","Object","values","length","setTimeout","className","style","App","setPersons","newName","setNewName","newNumber","setNewNumber","filtered","setFiltered","notification","setNotification","personService","then","useEffect","onChange","event","filteredSuggestions","filter","suggestion","toLowerCase","indexOf","target","value","onSubmit","preventDefault","personObject","e","window","confirm","forEach","element","catch","n","updatePerson","console","log","alert","ReactDOM","render","document","getElementById"],"mappings":"uOAOeA,EAJA,SAAC,GAAuB,IAAtBC,EAAqB,EAArBA,OAAQC,EAAa,EAAbA,QACrB,OAAO,4BAAKD,EAAOE,KAAZ,IAAmBF,EAAOG,OAA1B,IAAkC,4BAAQF,QAAS,kBAAIA,EAAQD,KAA7B,UAAlC,OCQII,EATC,SAAC,GAAwB,IAAvBC,EAAsB,EAAtBA,QAASJ,EAAa,EAAbA,QAEvB,OAAO,4BACFI,EAAQC,KAAI,SAACC,GAAD,OACT,kBAAC,EAAD,CAAQC,IAAKD,EAAEL,KAAMF,OAAQO,EAAGN,QAASA,SCEtCQ,EAPA,WACX,OAAO,wCACK,2BAAOC,KAAK,OAAOC,YAAY,aCYhCC,EAdI,WACf,OAAO,8BACH,sCACU,2BAAOC,GAAG,UAEpB,wCACY,2BAAQA,GAAG,YAEvB,6BACI,4BAAQH,KAAK,UAAb,U,uCCRNI,EAAU,eAyBC,GACbC,OAzBQ,uCAAG,8BAAAC,EAAA,6DACLC,EAAUC,IAAMC,IAAIL,GADf,SAEYG,EAFZ,cAELG,EAFK,yBAGJA,EAASC,MAHL,2CAAH,qDA0BRC,OApBU,uCAAG,WAAMC,GAAN,iBAAAP,EAAA,6DACPC,EAAUC,IAAMM,KAAKV,EAASS,GADvB,SAEUN,EAFV,cAEPG,EAFO,yBAGJA,EAASC,MAHL,2CAAH,sDAqBVI,OAfU,uCAAG,WAAOZ,EAAIU,GAAX,iBAAAP,EAAA,6DACPC,EAAUC,IAAMQ,IAAN,UAAaZ,EAAb,YAAwBD,GAAMU,GADjC,SAEUN,EAFV,cAEPG,EAFO,yBAGJA,EAASC,MAHL,2CAAH,wDAgBVM,OAVU,uCAAG,WAAOd,GAAP,iBAAAG,EAAA,6DACPC,EAAUC,IAAMU,OAAN,UAAgBd,EAAhB,YAA2BD,IAD9B,SAEUI,EAFV,cAEPG,EAFO,yBAGJA,EAASC,MAHL,2CAAH,uDCACQ,EApBM,SAAC,GAAe,IAAdC,EAAa,EAAbA,QAAa,EACFC,oBAAS,GADP,mBACzBC,EADyB,KAChBC,EADgB,KAE1BC,EAAUJ,EAAQK,MAKxB,GAAIC,OAAOC,OAAOP,GAASQ,OAAS,EAChC,OAAO,KAEPC,YANS,WACTN,GAAW,KAKM,KAErB,IAAIO,EAAYN,EAAU,QAAU,UACpC,OACI,yBAAKO,MAAO,CAACT,QAAUA,EAAU,OAAS,SAAWQ,UAAaA,GACjEV,EAAQA,UCiGFY,EA3GH,WAAO,IAAD,EACgBX,mBAAS,IADzB,mBACP1B,EADO,KACEsC,EADF,OAEgBZ,mBAAS,IAFzB,mBAEPa,EAFO,KAEEC,EAFF,OAGoBd,mBAAS,IAH7B,mBAGPe,EAHO,KAGIC,EAHJ,OAIkBhB,mBAAS,IAJ3B,mBAIPiB,EAJO,KAIGC,EAJH,OAK0BlB,mBAAS,IALnC,mBAKPmB,EALO,KAKOC,EALP,KAORpC,EAAS,WACXqC,EAAcrC,SACTsC,MAAK,SAAAjC,GACFuB,EAAWvB,GACX6B,EAAY7B,OAGxBkC,qBAAU,WACNvC,MACD,IAwEH,OACI,6BACI,yCACA,kBAAC,EAAD,CAAce,QAASoB,IACvB,yBAAKK,SAnEQ,SAACC,GAClB,IAAMC,EAAsBpD,EAAQqD,QAAO,SAACC,GAAD,OACvCA,EAAWzD,KAAK0D,cAAcC,QAAQL,EAAMM,OAAOC,MAAMH,gBAAkB,KAE/EX,EAAYQ,KAgEJ,kBAAC,EAAD,OAGJ,yCACA,yBAAKO,SA9CK,SAACR,GACfA,EAAMS,iBACN,IAAMC,EAAe,CACjBhE,KAAM0C,EACNzC,OAAQ2C,GAERzC,EAAQqD,QAAO,SAAAS,GAAC,OAAIA,EAAEjE,OAAS0C,KAASN,OAAS,EAzBpC,SAAC4B,GAElB,IAAIrD,EADJuD,OAAOC,QAAP,UAAkBzB,EAAlB,yEAEAvC,EAAQiE,SAAQ,SAAAC,GACTA,EAAQrE,OAAS0C,IAChB/B,EAAK0D,EAAQ1D,OAGrBuC,EAAc3B,OAAOZ,EAAGqD,GACnBb,MAAK,SAAAjC,GACF+B,EAAgB,CAACrB,QAAQ,WAAD,OAAac,GAAWT,OAAO,IACvDpB,OAEHyD,OAAM,SAAArC,GACHgB,EAAgB,CAACrB,QAAQ,UAAD,OAAYoC,EAAahE,KAAzB,mBAAgDiC,OAAO,IAC/EQ,EAAWtC,EAAQqD,QAAO,SAAAe,GAAC,OAAGA,EAAE5D,KAAOA,SAW3C6D,CAAaR,GAEbd,EAAc9B,OAAO4C,GAChBb,MAAK,SAAAjC,GACFL,IACAoC,EAAgB,CAACrB,QAAQ,SAAD,OAAWc,GAAWT,OAAO,OAExDqC,OAAM,SAAArC,GACHgB,EAAgB,CAACrB,QAASK,EAAMf,SAASC,KAAKc,MAAOA,OAAO,QA+B1CoB,SA/Eb,SAACC,GACK,SAApBA,EAAMM,OAAOjD,GACZgC,EAAWW,EAAMM,OAAOC,OAExBhB,EAAaS,EAAMM,OAAOC,SA4EtB,kBAAC,EAAD,CAAYnB,QAASA,EAASE,UAAWA,KAE7C,uCACA,kBAAC,EAAD,CAAStC,IAAKH,EAASA,QAAS2C,EAAU/C,QA7B7B,SAACD,GAClBoE,OAAOC,QAAP,iBAAyBrE,EAAOE,KAAhC,qBACAkD,EAAczB,OAAO3B,EAAOa,IACvBwC,MAAK,SAAAjC,GACF+B,EAAgB,WAAD,OAAYnD,EAAOE,OAClCa,OAEHyD,OAAM,SAAArC,GACHwC,QAAQC,IAAIzC,GACZgB,EAAgB,CAACrB,QAAQ,UAAD,OAAY9B,EAAOE,KAAnB,mBAA0CiC,OAAO,IAEzEQ,EAAWtC,EAAQqD,QAAO,SAAAe,GAAC,OAAGA,EAAE5D,KAAOb,EAAOa,OAC9CgE,MAAM,UAAD,OAAW7E,EAAOE,KAAlB,4BCrFrB4E,IAASC,OAAO,kBAAC,EAAD,MAASC,SAASC,eAAe,W","file":"static/js/main.ebdf369e.chunk.js","sourcesContent":["import React from 'react'\r\n\r\n\r\nconst Person = ({person, onClick}) => {\r\n    return <li>{person.name} {person.number} <button onClick={()=>onClick(person)}>delete</button>  </li>\r\n}\r\n\r\nexport default Person\r\n","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({persons, onClick}) => {\r\n\r\n    return <ul>\r\n        {persons.map((p) =>\r\n            <Person key={p.name} person={p} onClick={onClick} />\r\n    )}\r\n    </ul>\r\n}\r\n\r\nexport default Persons","import React from 'react'\r\n\r\nconst Filter = () => {\r\n    return <div>\r\n        search: <input type=\"text\" placeholder=\"Search\" />\r\n    </div>\r\n}\r\n\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = () => {\r\n    return <form >\r\n        <div>\r\n            name: <input id=\"name\"  />\r\n        </div>\r\n        <div>\r\n            number: <input  id=\"number\"/>\r\n        </div>\r\n        <div>\r\n            <button type=\"submit\">add</button>\r\n        </div>\r\n    </form>\r\n}\r\n\r\nexport default PersonForm","import axios from 'axios'\r\n\r\n//const baseUrl = 'https://sleepy-tor-03663.herokuapp.com/api/persons'\r\nconst baseUrl = '/api/persons'\r\nconst getAll = async () => {\r\n    const request = axios.get(baseUrl)\r\n    const response = await request\r\n    return response.data\r\n  }\r\n  \r\n  const create = async newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    const response = await request\r\n      return response.data\r\n  }\r\n  \r\n  const update = async (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    const response = await request\r\n      return response.data\r\n  }\r\n\r\n  const remove = async (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    const response = await request\r\n      return response.data\r\n  }\r\n\r\n  export default { \r\n    getAll, \r\n    create, \r\n    update,\r\n    remove,\r\n  }","import React, {useState} from 'react'\r\n\r\nconst Notification = ({message}) => {\r\n    const [display, setDisplay] = useState(false)\r\n    const isError = message.error;\r\n    \r\n    const show = () => {\r\n        setDisplay(true)\r\n    }\r\n    if (Object.values(message).length < 1) {\r\n        return null\r\n    }else{\r\n        setTimeout(show, 3000)\r\n    }\r\n    let className = isError ? 'error' : 'success';\r\n    return (\r\n        <div style={{display: (display ? 'none' : 'block')}} className = {className}>\r\n        {message.message}\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Persons from './components/Persons'\r\nimport Filter from './components/Filter'\r\nimport PersonForm from './components/PersonForm'\r\nimport personService from './services/services'\r\nimport Notification from './components/Notification'\r\n\r\nconst App = () => {\r\n    const [persons, setPersons] = useState([])\r\n    const [newName, setNewName] = useState('')\r\n    const [newNumber, setNewNumber] = useState('')\r\n    const [filtered, setFiltered] = useState([])\r\n    const [notification, setNotification] = useState({})\r\n\r\n    const getAll = () => {\r\n        personService.getAll()\r\n            .then(response => {\r\n                setPersons(response)\r\n                setFiltered(response)\r\n              })\r\n    }\r\n    useEffect(() => {\r\n        getAll()\r\n    }, [])\r\n\r\n    const handleChange = (event) => {\r\n        if(event.target.id === \"name\"){\r\n            setNewName(event.target.value)\r\n        }else{\r\n            setNewNumber(event.target.value)\r\n        }\r\n    }\r\n    const handleFilter = (event) => {\r\n        const filteredSuggestions = persons.filter((suggestion) =>\r\n            suggestion.name.toLowerCase().indexOf(event.target.value.toLowerCase()) > -1\r\n        )\r\n        setFiltered(filteredSuggestions)\r\n    }\r\n\r\n    const updatePerson = (personObject) => {\r\n        window.confirm(`${newName} already exists in phonebook, replace the old number with a new one?`)\r\n        let id;\r\n        persons.forEach(element => {\r\n            if(element.name === newName){\r\n                id = element.id;\r\n            }\r\n        });\r\n        personService.update(id,personObject)\r\n            .then(response =>{\r\n                setNotification({message: `Updated ${newName}`, error: false})\r\n                getAll()\r\n            })\r\n            .catch(error => {\r\n                setNotification({message: `Person ${personObject.name} does not exist`, error: true})\r\n                setPersons(persons.filter(n=> n.id !== id))\r\n            })\r\n    }\r\n\r\n    const addPerson = (event) => {\r\n        event.preventDefault();\r\n        const personObject = {\r\n            name: newName,\r\n            number: newNumber\r\n        }\r\n        if (persons.filter(e => e.name === newName).length > 0) {\r\n            updatePerson(personObject)\r\n        } else {\r\n            personService.create(personObject)\r\n                .then(response => {\r\n                    getAll();\r\n                    setNotification({message: `Added ${newName}`, error: false})\r\n                })\r\n                .catch(error =>{\r\n                    setNotification({message: error.response.data.error, error: true})\r\n                })\r\n\r\n        }\r\n    }\r\n\r\n    const deletePerson = (person) => {\r\n        window.confirm(`Delete ${person.name} from phonebook?`)\r\n        personService.remove(person.id)\r\n            .then(response => {\r\n                setNotification(`Deleted ${person.name}`)\r\n                getAll();\r\n            })\r\n            .catch(error => {\r\n                console.log(error)\r\n                setNotification({message: `Person ${person.name} does not exist`, error: true})\r\n\r\n                setPersons(persons.filter(n=> n.id !== person.id))\r\n                alert(`Person ${person.name} does not exist`)\r\n            })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n            <Notification message={notification}/>\r\n            <div onChange={handleFilter}>\r\n                <Filter />\r\n            </div>\r\n            \r\n            <h2>Add a new</h2>\r\n            <div onSubmit={addPerson} onChange={handleChange}>\r\n                <PersonForm newName={newName} newNumber={newNumber} />\r\n            </div>\r\n            <h2>Numbers</h2>\r\n            <Persons key={persons} persons={filtered} onClick={deletePerson}/>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}